import{t as e}from"./clipboard-list-CdGJzdwV.js";import{n as t,t as n}from"./trash-2-D1o_3E3w.js";import{t as r}from"./plus-C7x6RT7r.js";import{t as i}from"./search-CVa8GsAv.js";import{A as a,D as o,S as s,W as c,Y as l,g as u,m as d,tt as f}from"./index-BK-GGJM4.js";import{a as p,n as m}from"./testorderApi-BYvcba2f.js";var h=s(`clipboard-check`,[[`rect`,{width:`8`,height:`4`,x:`8`,y:`2`,rx:`1`,ry:`1`,key:`tgr4d6`}],[`path`,{d:`M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2`,key:`116196`}],[`path`,{d:`m9 14 2 2 4-4`,key:`df797q`}]]),g=f(l(),1),_=f(c(),1),v=f(a(),1);function y(){let[a,s]=(0,g.useState)([]),[c,l]=(0,g.useState)({page:0,size:10,totalPages:0}),[f,y]=(0,g.useState)(!0),[b,x]=(0,g.useState)(!1),[S,C]=(0,g.useState)(``),[w,T]=(0,g.useState)({searchTerm:``,status:`all`,priority:`all`}),E=o(),D=async(e=0)=>{try{y(!0);let t=await p(e,c.size);s(t.content||t.items||[]),l({page:t.number??t.page??e,size:t.size??c.size,totalPages:t.totalPages??t.total_pages??1})}catch(e){console.error(`Error loading test orders`,e),_.default.fire(`Error`,`Failed to load test orders`,`error`)}finally{y(!1)}};(0,g.useEffect)(()=>{D(0)},[]);let O=async e=>{let t=e.id||e.orderId||e.testOrderId;if(!t){_.default.fire(`Error`,`Invalid order ID`,`error`);return}if((await _.default.fire({icon:`warning`,title:`Delete Test Order?`,text:`Order ${e.orderNumber||t} will be permanently deleted.`,showCancelButton:!0,confirmButtonText:`Yes, delete`,confirmButtonColor:`#e11d48`,cancelButtonColor:`#6b7280`})).isConfirmed)try{await m(t),_.default.fire(`Deleted`,`Test order deleted successfully`,`success`),D(c.page)}catch(e){console.error(`Error deleting order`,e),_.default.fire(`Error`,`Failed to delete test order`,`error`)}},k=e=>{e<0||e>=c.totalPages||D(e)},A=e=>{let t=e?.toLowerCase()||`pending`,n={pending:`bg-amber-100 text-amber-700`,in_progress:`bg-blue-100 text-blue-700`,completed:`bg-emerald-100 text-emerald-700`,cancelled:`bg-gray-100 text-gray-700`};return n[t]||n.pending},j=e=>{let t=e?.toLowerCase()||`routine`,n={routine:`bg-slate-100 text-slate-700`,urgent:`bg-orange-100 text-orange-700`,stat:`bg-red-100 text-red-700`};return n[t]||n.routine},M=a.filter(e=>e.status?.toLowerCase()===`pending`).length,N=a.filter(e=>e.status?.toLowerCase()===`in_progress`).length,P=a.filter(e=>e.status?.toLowerCase()===`completed`).length;return f?(0,v.jsx)(`div`,{className:`flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100`,children:(0,v.jsxs)(`div`,{className:`text-center`,children:[(0,v.jsx)(`div`,{className:`inline-block animate-spin rounded-full h-16 w-16 border-4 border-cyan-200 border-t-cyan-600 mb-4`}),(0,v.jsx)(`p`,{className:`text-gray-700 font-medium`,children:`Loading test orders...`})]})}):(0,v.jsxs)(`div`,{className:`p-6 bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen`,children:[(0,v.jsxs)(`div`,{className:`max-w-7xl mx-auto`,children:[(0,v.jsx)(`div`,{className:`mb-8`,children:(0,v.jsxs)(`div`,{className:`flex items-center gap-4 mb-3`,children:[(0,v.jsx)(`div`,{className:`w-12 h-12 rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center shadow-lg shadow-cyan-500/30`,children:(0,v.jsx)(e,{className:`w-6 h-6 text-white`})}),(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`h1`,{className:`text-4xl font-bold text-gray-900`,children:`Test Orders`}),(0,v.jsx)(`p`,{className:`text-gray-500 mt-1`,children:`Manage and track all laboratory test orders`})]})]})}),(0,v.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-4 mb-6`,children:[{label:`Pending Orders`,value:M,icon:u,iconColor:`text-amber-600`,bgColor:`bg-amber-50`},{label:`In Progress`,value:N,icon:e,iconColor:`text-blue-600`,bgColor:`bg-blue-50`},{label:`Completed`,value:P,icon:h,iconColor:`text-emerald-600`,bgColor:`bg-emerald-50`}].map((e,t)=>{let n=e.icon;return(0,v.jsx)(`div`,{className:`bg-white rounded-2xl p-5 shadow-sm border border-gray-200 hover:shadow-xl transition-all duration-300 hover:-translate-y-1`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`text-gray-500 text-sm font-medium`,children:e.label}),(0,v.jsx)(`p`,{className:`text-3xl font-bold text-gray-900 mt-1`,children:e.value})]}),(0,v.jsx)(`div`,{className:`w-14 h-14 rounded-2xl ${e.bgColor} flex items-center justify-center`,children:(0,v.jsx)(n,{className:`w-8 h-8 ${e.iconColor}`})})]})},t)})}),(0,v.jsxs)(`div`,{className:`bg-white rounded-3xl shadow-xl border border-gray-200 overflow-hidden`,children:[(0,v.jsx)(`div`,{className:`p-6 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white`,children:(0,v.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between`,children:[(0,v.jsx)(`div`,{className:`flex-1 w-full sm:w-auto`,children:(0,v.jsxs)(`div`,{className:`relative group`,children:[(0,v.jsx)(i,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-cyan-500 transition-colors`}),(0,v.jsx)(`input`,{value:S,onChange:e=>C(e.target.value),placeholder:`Search by order number or patient name...`,className:`w-full pl-12 pr-4 py-3.5 border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 transition-all bg-white`})]})}),(0,v.jsx)(`div`,{className:`flex gap-3`,children:(0,v.jsxs)(`button`,{onClick:()=>E(`/test-orders/new`),className:`px-6 py-3.5 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-semibold transition-all duration-200 flex items-center gap-2 shadow-lg shadow-cyan-500/40 hover:shadow-cyan-500/60 hover:-translate-y-0.5`,children:[(0,v.jsx)(r,{className:`w-5 h-5`}),(0,v.jsx)(`span`,{children:`New Order`})]})})]})}),(0,v.jsx)(`div`,{className:`overflow-x-auto`,children:(0,v.jsxs)(`table`,{className:`w-full`,children:[(0,v.jsx)(`thead`,{children:(0,v.jsxs)(`tr`,{className:`bg-gray-50`,children:[(0,v.jsx)(`th`,{className:`text-left px-6 py-4 text-xs font-bold text-gray-600 uppercase`,children:`Order #`}),(0,v.jsx)(`th`,{className:`text-left px-6 py-4 text-xs font-bold text-gray-600 uppercase`,children:`Patient`}),(0,v.jsx)(`th`,{className:`text-left px-6 py-4 text-xs font-bold text-gray-600 uppercase`,children:`Test Type`}),(0,v.jsx)(`th`,{className:`text-left px-6 py-4 text-xs font-bold text-gray-600 uppercase`,children:`Status`}),(0,v.jsx)(`th`,{className:`text-left px-6 py-4 text-xs font-bold text-gray-600 uppercase`,children:`Priority`}),(0,v.jsx)(`th`,{className:`text-left px-6 py-4 text-xs font-bold text-gray-600 uppercase`,children:`Created Date`}),(0,v.jsx)(`th`,{className:`text-center px-6 py-4 text-xs font-bold text-gray-600 uppercase`,children:`Actions`})]})}),(0,v.jsxs)(`tbody`,{className:`divide-y divide-gray-100`,children:[a.length===0&&(0,v.jsx)(`tr`,{children:(0,v.jsx)(`td`,{colSpan:7,className:`px-6 py-20 text-center`,children:(0,v.jsxs)(`div`,{className:`flex flex-col items-center gap-4`,children:[(0,v.jsx)(`div`,{className:`w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center`,children:(0,v.jsx)(e,{className:`w-10 h-10 text-gray-400`})}),(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`div`,{className:`text-gray-700 font-semibold text-lg`,children:`No test orders found`}),(0,v.jsx)(`div`,{className:`text-sm text-gray-500 mt-1`,children:`Get started by creating a new test order`})]})]})})}),a.map((e,r)=>(0,v.jsxs)(`tr`,{className:`hover:bg-gray-50 transition-all duration-200`,style:{animation:`slideUp 0.4s ease-out ${r*.05}s both`},children:[(0,v.jsx)(`td`,{className:`px-6 py-5`,children:(0,v.jsx)(`span`,{className:`text-sm font-semibold text-cyan-600`,children:e.orderNumber||`ORD-${(e.id||``).substring(0,8)}`})}),(0,v.jsx)(`td`,{className:`px-6 py-5`,children:(0,v.jsx)(`div`,{className:`text-sm font-medium text-gray-900`,children:e.patientName||`N/A`})}),(0,v.jsx)(`td`,{className:`px-6 py-5`,children:(0,v.jsx)(`div`,{className:`text-sm text-gray-700`,children:e.testType||`Blood Test`})}),(0,v.jsx)(`td`,{className:`px-6 py-5`,children:(0,v.jsx)(`span`,{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${A(e.status)}`,children:e.status||`Pending`})}),(0,v.jsx)(`td`,{className:`px-6 py-5`,children:(0,v.jsx)(`span`,{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${j(e.priority)}`,children:e.priority||`Routine`})}),(0,v.jsx)(`td`,{className:`px-6 py-5`,children:(0,v.jsx)(`div`,{className:`text-sm text-gray-700`,children:e.createdAt?new Date(e.createdAt).toLocaleDateString():`N/A`})}),(0,v.jsx)(`td`,{className:`px-6 py-5`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-center gap-1`,children:[(0,v.jsx)(`button`,{onClick:()=>{let t=e.id||e.orderId||e.testOrderId;t&&E(`/test-orders/${t}`)},className:`p-2.5 rounded-xl hover:bg-cyan-50 transition-all duration-200`,title:`View details`,children:(0,v.jsx)(d,{className:`w-4 h-4 text-gray-400 hover:text-cyan-600`})}),(0,v.jsx)(`button`,{onClick:()=>{let t=e.id||e.orderId||e.testOrderId;t&&E(`/test-orders/${t}/edit`)},className:`p-2.5 rounded-xl hover:bg-blue-50 transition-all duration-200`,title:`Edit order`,children:(0,v.jsx)(t,{className:`w-4 h-4 text-gray-400 hover:text-blue-600`})}),(0,v.jsx)(`button`,{onClick:()=>O(e),className:`p-2.5 rounded-xl hover:bg-red-50 transition-all duration-200`,title:`Delete order`,children:(0,v.jsx)(n,{className:`w-4 h-4 text-gray-400 hover:text-red-600`})})]})})]},e.id||e.orderId||e.testOrderId||r))]})]})}),c.totalPages>1&&(0,v.jsx)(`div`,{className:`bg-gray-50 px-6 py-4 border-t border-gray-200`,children:(0,v.jsxs)(`div`,{className:`flex flex-col sm:flex-row items-center justify-between gap-4`,children:[(0,v.jsxs)(`div`,{className:`text-sm text-gray-600`,children:[`Page`,` `,(0,v.jsx)(`span`,{className:`font-semibold`,children:c.page+1}),` of`,` `,(0,v.jsx)(`span`,{className:`font-semibold`,children:c.totalPages})]}),(0,v.jsxs)(`nav`,{className:`flex items-center gap-2`,children:[(0,v.jsx)(`button`,{onClick:()=>k(c.page-1),disabled:c.page<=0,className:`px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-xl hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed`,children:`Previous`}),(0,v.jsx)(`button`,{onClick:()=>k(c.page+1),disabled:c.page>=c.totalPages-1,className:`px-4 py-2 text-sm font-medium bg-white border border-gray-300 rounded-xl hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed`,children:`Next`})]})]})})]})]}),(0,v.jsx)(`style`,{children:`
        @keyframes slideUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})}export{y as default};