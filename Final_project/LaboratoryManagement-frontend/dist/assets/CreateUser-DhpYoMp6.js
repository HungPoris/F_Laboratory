import{t as e}from"./calendar-aV5gGbf_.js";import{t}from"./credit-card-BmLBoDpm.js";import{t as n}from"./house-IZk9q2Ov.js";import{n as r,t as i}from"./phone-CFTnPSRe.js";import{t as a}from"./user-check-BukfIEMx.js";import{A as o,D as s,J as c,K as l,M as u,N as d,W as f,Y as p,c as m,i as h,j as g,l as _,q as v,tt as y,u as b}from"./index-BK-GGJM4.js";import{f as x,n as S,s as C}from"./adminApi-DSTjBICF.js";var w=y(p(),1),T=y(f(),1),E=y(o(),1);function D(e=``){return String(e).normalize(`NFD`).replace(/[\u0300-\u036f]/g,``).replace(/đ/g,`d`).replace(/Đ/g,`D`)}function O(e,t=300){let[n,r]=(0,w.useState)(e);return(0,w.useEffect)(()=>{let n=setTimeout(()=>r(e),t);return()=>clearTimeout(n)},[e,t]),n}function k(e){let t=(0,w.useRef)(null);return(0,w.useEffect)(()=>{function n(n){t.current&&!t.current.contains(n.target)&&e()}return document.addEventListener(`mousedown`,n),()=>document.removeEventListener(`mousedown`,n)},[e]),t}function A(e,t){if(e?.response?.data?.code){let n=`errors.${e.response.data.code}`;if(t(n)!==n)return t(n)}if(e?.response?.data?.message){let n=`errors.${e.response.data.message}`;if(t(n)!==n)return t(n)}return e?.message===`Network Error`||!e?.response?t(`errors.NETWORK_ERROR`):e?.response?.status===401?t(`errors.UNAUTHORIZED`):e?.response?.status===403?t(`errors.FORBIDDEN`):e?.response?.status===404?t(`errors.USER_NOT_FOUND`):t(`errors.GENERAL_ERROR`)}function j(e=``){return String(e).replace(/\s+/g,` `).replace(/[\r\n\t]+/g,` `).trim()}function M({value:e,onChange:t,options:n,placeholder:r,disabled:i,loading:a,noOptionsText:o,searchPlaceholder:s,renderIcon:c,clearable:l=!0,className:u=``,debounceMs:d=300}){let[f,p]=(0,w.useState)(!1),[m,h]=(0,w.useState)(``),[g,_]=(0,w.useState)(-1),v=O(m,d),y=k(()=>{p(!1),h(``),_(-1)}),b=(0,w.useMemo)(()=>n.find(t=>String(t.value)===String(e))||null,[n,e]),x=(0,w.useMemo)(()=>{if(!v.trim())return n;let e=D(v.trim().toLowerCase());return n.filter(t=>D(String(t.label).toLowerCase()).includes(e))},[n,v]);(0,w.useEffect)(()=>{f||(h(``),_(-1))},[f]);function S(e){if(!f){(e.key===`ArrowDown`||e.key===`Enter`||e.key===` `)&&(e.preventDefault(),p(!0),_(0));return}if(e.key===`Escape`){e.preventDefault(),p(!1);return}e.key===`ArrowDown`?(e.preventDefault(),_(e=>Math.min(e+1,x.length-1))):e.key===`ArrowUp`?(e.preventDefault(),_(e=>Math.max(e-1,0))):e.key===`Enter`&&(e.preventDefault(),x[g]&&(t(x[g].value),p(!1)))}return(0,E.jsxs)(`div`,{ref:y,className:`relative ${u}`,children:[(0,E.jsx)(`button`,{type:`button`,disabled:i,onClick:()=>p(e=>!e),onKeyDown:S,className:`w-full rounded-xl border-2 px-4 py-3 text-left transition-all
          ${i?`bg-gray-50 cursor-not-allowed`:`bg-white hover:border-emerald-400`}
          ${f?`border-emerald-500`:`border-gray-200`}`,"aria-haspopup":`listbox`,"aria-expanded":f,children:(0,E.jsxs)(`div`,{className:`flex items-center gap-2`,children:[c?(0,E.jsx)(`span`,{className:`text-gray-400`,children:c}):null,(0,E.jsx)(`span`,{className:`${b?`text-gray-900`:`text-gray-400`}`,children:b?b.label:r||``}),(0,E.jsx)(`span`,{className:`ml-auto text-gray-400`,children:a?`…`:f?`▲`:`▼`}),l&&b&&!i&&(0,E.jsx)(`span`,{onClick:e=>{e.stopPropagation(),t(``)},className:`ml-2 text-gray-400 hover:text-gray-600 px-2`,role:`button`,"aria-label":`Clear`,title:`Clear`,children:`×`})]})}),f&&(0,E.jsxs)(`div`,{className:`absolute z-50 mt-2 w-full rounded-xl border-2 border-emerald-200 bg-white shadow-xl`,role:`listbox`,children:[(0,E.jsx)(`div`,{className:`p-2`,children:(0,E.jsx)(`input`,{autoFocus:!0,value:m,onChange:e=>{h(e.target.value),_(0)},onKeyDown:S,placeholder:s||`Search...`,className:`w-full rounded-lg border-2 border-gray-200 px-3 py-2 focus:outline-none focus:border-emerald-500`})}),(0,E.jsx)(`div`,{className:`max-h-64 overflow-auto py-1`,children:a?(0,E.jsx)(`div`,{className:`px-3 py-2 text-sm text-gray-500`,children:`Loading...`}):x.length===0?(0,E.jsx)(`div`,{className:`px-3 py-2 text-sm text-gray-500`,children:o||`No options`}):x.map((n,r)=>(0,E.jsx)(`div`,{role:`option`,"aria-selected":String(n.value)===String(e),onMouseEnter:()=>_(r),onMouseDown:e=>e.preventDefault(),onClick:()=>{t(n.value),p(!1)},className:`px-3 py-2 cursor-pointer
                    ${r===g?`bg-emerald-50`:``}
                    ${String(n.value)===String(e)?`font-medium text-emerald-700`:`text-gray-700`}`,children:n.label},n.value))})]})]})}function N(){let{t:o}=l(),f=s(),[p,y]=(0,w.useState)([]),[D,k]=(0,w.useState)(!1),[N,P]=(0,w.useState)(null),[F,I]=(0,w.useState)([]),[L,R]=(0,w.useState)([]),[z,B]=(0,w.useState)(!1),[V,H]=(0,w.useState)(!1),[U,W]=(0,w.useState)({username:``,fullName:``,email:``,phoneNumber:``,dateOfBirth:``,identityNumber:``,gender:``,house:``,provinceCode:``,communeCode:``,roleCode:``,enabled:!0}),[G,K]=(0,w.useState)({}),[q,J]=(0,w.useState)(!1),[Y,X]=(0,w.useState)(!1);function Z(e){return Array.isArray(e)?e:Array.isArray(e?.content)?e.content:Array.isArray(e?.data)?e.data:Array.isArray(e?.items)?e.items:Array.isArray(e?.results)?e.results:e&&typeof e==`object`?Object.values(e):[]}(0,w.useEffect)(()=>{let e=!0;return k(!0),P(null),C().then(t=>{e&&(y(Array.isArray(t)?t:t?.content||Z(t)),P(null))}).catch(t=>{if(!e)return;let n=A(t,o)||o(`errors.FETCH_ROLES_FAILED`);P(n),c.error(n)}).finally(()=>{e&&k(!1)}),g.get(`/api/v1/addresses/provinces`).then(t=>{e&&I(Z(t?.data?.provinces??t?.data))}).catch(t=>{e&&(I([]),c.error(A(t,o)||o(`errors.FETCH_PROVINCES_FAILED`)))}),()=>e=!1},[o]),(0,w.useEffect)(()=>{let{provinceCode:e}=U;if(!e){R([]);return}B(!0),g.get(`/api/v1/addresses/communes`,{params:{provinceCode:e,size:500,page:0}}).then(e=>{R(Z(e?.data?.communes??e?.data))}).catch(e=>{R([]),c.error(A(e,o)||o(`errors.FETCH_COMMUNES_FAILED`))}).finally(()=>B(!1))},[U.provinceCode,o]);let Q=O(U.username,500);(0,w.useEffect)(()=>{let e=!0;async function t(){let t=String(Q||``).trim();if(!t){if(!e)return;X(!1),J(!1),K(e=>{let t={...e};return delete t.username,t});return}J(!0);try{let n=await g.get(`/api/v1/admin/users`,{params:{q:t,page:0,size:10}}),r=Array.isArray(n?.data)?n.data:n?.data?.content||Z(n?.data),i=Array.isArray(r)&&r.some(e=>{let n=e.username||e.userName||e.user&&(e.user.username||e.user.userName)||``;return String(n).trim().toLowerCase()===t.toLowerCase()});if(!e)return;X(i),J(!1),K(e=>{let t={...e};return i?t.username=`Username already exists`:t.username===`Username already exists`&&delete t.username,t})}catch{if(!e)return;J(!1)}}return t(),()=>{e=!1}},[Q]);function ee(){let e={},t=String(U.fullName||``).trim();t.length<2?e.fullName=`Full name must be at least 2 characters`:/^[\p{L}\s'.-]+$/u.test(t)||(e.fullName=`Full name cannot contain invalid characters`);let n=String(U.username||``).trim();n&&(n.length<3?e.username=`Username must be at least 3 characters`:/^[a-zA-Z0-9._-]+$/.test(n)||(e.username=`Username contains invalid characters`),Y&&(e.username=`Username already exists`));let r=String(U.email||``).trim();(!r||!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[A-Za-z]{2,}$/.test(r))&&(e.email=`Invalid email address`),U.roleCode||(e.roleCode=`Role is required`),U.provinceCode||(e.provinceCode=`Province/City is required`);let i=String(U.phoneNumber||``).trim();i&&(/^\d{10}$/.test(i)||(e.phoneNumber=`Phone must be exactly 10 digits`));let a=String(U.identityNumber||``).trim();return a&&(/^\d{12}$/.test(a)||(e.identityNumber=`Citizen ID/Passport must be exactly 12 digits`)),K(e),Object.keys(e).length===0}function te(e){return(Array.isArray(F)?F:Z(F)).find(t=>String(t.code)===String(e))||null}function ne(e){return(Array.isArray(L)?L:Z(L)).find(t=>String(t.code)===String(e))||null}function $(){k(!0),P(null),C().then(e=>{y(Array.isArray(e)?e:e?.content||Z(e)),P(null),c.success(o(`admin.roles_reload_success`))}).catch(e=>{let t=A(e,o)||o(`errors.FETCH_ROLES_FAILED`);P(t),c.error(t)}).finally(()=>k(!1))}async function re(e){e&&e.preventDefault();try{let e=d();if(!e||String(e).trim().length===0){c.error(o(`errors.SESSION_EXPIRED`));try{u(),delete g.defaults.headers.common.Authorization}catch{}f(`/login`);return}}catch{}if(ee()){H(!0);try{let e=te(U.provinceCode),t=ne(U.communeCode),n=j(U.house||``),r=[];n&&r.push(n),t&&t.name&&r.push(t.name),e&&e.name&&r.push(e.name);let i=r.join(`, `),a=U.gender===`FEMALE`?`female`:U.gender===`MALE`?`male`:U.gender===`OTHER`?null:U.gender||null,s={...U.username&&U.username.trim()!==``?{username:U.username.trim()}:{},fullName:U.fullName,email:U.email,phoneNumber:U.phoneNumber||null,dateOfBirth:U.dateOfBirth||null,identityNumber:U.identityNumber||null,gender:a,address:i,roles:U.roleCode?[U.roleCode]:[]},l=await S(s,{revealPassword:!0}),u=l?.id||l?.user?.userId||l?.user?.id,d=l?.password||l?.user?.password||null,f=l?.username||l?.user&&(l.user.username||l.user.userName)||s.username||``,p=l?.fullName||l?.user&&l.user.fullName||s.fullName||``;if(!u)throw Error(o(`errors.CREATE_USER_FAILED`));try{await x(u,d?{password:d}:{}),c.success(o(`admin.welcome_email_sent`))}catch(e){let t=A(e,o)||o(`errors.SEND_WELCOME_EMAIL_FAILED`);c.warn(t)}T.default.fire(o(`admin.success`),o(`admin.user_created_success`,{name:f||p}),`success`),W({username:``,fullName:``,email:``,phoneNumber:``,dateOfBirth:``,identityNumber:``,gender:``,house:``,provinceCode:``,communeCode:``,roleCode:``,enabled:!0}),R([]),K({}),X(!1)}catch(e){let t=A(e,o)||o(`errors.CREATE_USER_FAILED`);T.default.fire(o(`admin.error`),t,`error`)}finally{H(!1)}}}let ie=Array.isArray(F)?F:Z(F),ae=Array.isArray(L)?L:Z(L),oe=ie.map(e=>({value:e.code,label:e.name})),se=ae.map(e=>({value:e.code,label:e.name}));return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(`style`,{children:`
        @keyframes fade-in { from { opacity:.0; transform: translateY(10px) } to { opacity:1; transform: translateY(0) } }
        .fade-in { animation: fade-in .5s ease-out }
      `}),(0,E.jsxs)(`div`,{className:`min-h-screen bg-gradient-to-br from-emerald-50 via-sky-50 to-indigo-50 p-6`,children:[(0,E.jsx)(v,{position:`top-right`,pauseOnHover:!0}),(0,E.jsx)(`div`,{className:`max-w-7xl mx-auto`,children:(0,E.jsxs)(`div`,{className:`bg-white rounded-3xl shadow-xl p-8 fade-in`,children:[(0,E.jsxs)(`div`,{className:`flex items-center gap-3 mb-8`,children:[(0,E.jsx)(`div`,{className:`p-3 rounded-2xl bg-gradient-to-br from-emerald-500 to-sky-600`,children:(0,E.jsx)(a,{className:`w-8 h-8 text-white`})}),(0,E.jsxs)(`div`,{children:[(0,E.jsx)(`h1`,{className:`text-3xl font-bold bg-gradient-to-r from-emerald-600 to-sky-600 bg-clip-text text-transparent`,children:o(`admin.create_user`)}),(0,E.jsx)(`p`,{className:`text-sm text-gray-500 mt-1`,children:o(`admin.create_user_subtitle`)})]})]}),(0,E.jsxs)(`form`,{onSubmit:re,className:`space-y-6`,children:[(0,E.jsxs)(`div`,{className:`space-y-4`,children:[(0,E.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-700 flex items-center gap-2`,children:[(0,E.jsx)(m,{className:`w-5 h-5 text-emerald-500`}),o(`admin.login_info`)]}),(0,E.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,E.jsxs)(`div`,{children:[(0,E.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[o(`admin.full_name`),` `,(0,E.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,E.jsxs)(`div`,{className:`relative`,children:[(0,E.jsx)(m,{className:`absolute left-3 top-3.5 w-5 h-5 text-gray-400 pointer-events-none`}),(0,E.jsx)(`input`,{value:U.fullName,onChange:e=>W({...U,fullName:e.target.value}),placeholder:o(`admin.full_name_placeholder`),className:`w-full rounded-xl border-2 border-gray-200 pl-10 pr-4 py-3 focus:border-emerald-500 focus:outline-none transition-all`})]}),G.fullName&&(0,E.jsx)(`div`,{className:`text-sm text-red-600 mt-1`,children:G.fullName})]}),(0,E.jsxs)(`div`,{children:[(0,E.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[o(`admin.username`),` `,(0,E.jsx)(`span`,{className:`text-xs text-gray-500 ml-2`,children:o(`admin.username_optional`)})]}),(0,E.jsxs)(`div`,{className:`relative`,children:[(0,E.jsx)(m,{className:`absolute left-3 top-3.5 w-5 h-5 text-gray-400 pointer-events-none`}),(0,E.jsx)(`input`,{value:U.username,onChange:e=>W({...U,username:e.target.value}),placeholder:o(`admin.username_placeholder`),className:`w-full rounded-xl border-2 border-gray-200 pl-10 pr-10 py-3 focus:border-emerald-500 focus:outline-none transition-all`}),(0,E.jsx)(`div`,{className:`absolute right-3 top-3.5 flex items-center gap-2`,children:q?(0,E.jsx)(`div`,{className:`text-sm text-gray-400`,children:`Checking…`}):Y?(0,E.jsx)(`div`,{className:`text-sm text-red-600`,children:`Taken`}):U.username?(0,E.jsx)(`div`,{className:`text-sm text-green-600`,children:`Available`}):null})]}),G.username&&(0,E.jsx)(`div`,{className:`text-sm text-red-600 mt-1`,children:G.username})]})]}),(0,E.jsxs)(`div`,{children:[(0,E.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[o(`admin.email`),` `,(0,E.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,E.jsxs)(`div`,{className:`relative`,children:[(0,E.jsx)(b,{className:`absolute left-3 top-3.5 w-5 h-5 text-gray-400 pointer-events-none`}),(0,E.jsx)(`input`,{value:U.email,onChange:e=>W({...U,email:e.target.value}),placeholder:o(`admin.email_placeholder`),className:`w-full rounded-xl border-2 border-gray-200 pl-10 pr-4 py-3 focus:border-emerald-500 focus:outline-none transition-all`})]}),G.email&&(0,E.jsx)(`div`,{className:`text-sm text-red-600 mt-1`,children:G.email})]})]}),(0,E.jsxs)(`div`,{className:`space-y-4 pt-6 border-t`,children:[(0,E.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-700 flex items-center gap-2`,children:[(0,E.jsx)(t,{className:`w-5 h-5 text-sky-500`}),o(`admin.personal_info`)]}),(0,E.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,E.jsxs)(`div`,{children:[(0,E.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:o(`admin.phone_number`)}),(0,E.jsxs)(`div`,{className:`relative`,children:[(0,E.jsx)(i,{className:`absolute left-3 top-3.5 w-5 h-5 text-gray-400 pointer-events-none`}),(0,E.jsx)(`input`,{value:U.phoneNumber,onChange:e=>W({...U,phoneNumber:e.target.value}),placeholder:o(`admin.phone_placeholder`),className:`w-full rounded-xl border-2 border-gray-200 pl-10 pr-4 py-3 focus:border-emerald-500 focus:outline-none transition-all`})]}),G.phoneNumber&&(0,E.jsx)(`div`,{className:`text-sm text-red-600 mt-1`,children:G.phoneNumber})]}),(0,E.jsxs)(`div`,{children:[(0,E.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:o(`admin.date_of_birth`)}),(0,E.jsxs)(`div`,{className:`relative`,children:[(0,E.jsx)(e,{className:`absolute left-3 top-3.5 w-5 h-5 text-gray-400 pointer-events-none`}),(0,E.jsx)(`input`,{type:`date`,value:U.dateOfBirth,onChange:e=>W({...U,dateOfBirth:e.target.value}),className:`w-full rounded-xl border-2 border-gray-200 pl-10 pr-4 py-3 focus:border-emerald-500 focus:outline-none transition-all`})]})]})]}),(0,E.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,E.jsxs)(`div`,{children:[(0,E.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Citizen ID / Passport Number`}),(0,E.jsxs)(`div`,{className:`relative`,children:[(0,E.jsx)(t,{className:`absolute left-3 top-3.5 w-5 h-5 text-gray-400 pointer-events-none`}),(0,E.jsx)(`input`,{value:U.identityNumber,onChange:e=>W({...U,identityNumber:e.target.value}),placeholder:`Citizen ID / Passport Number`,className:`w-full rounded-xl border-2 border-gray-200 pl-10 pr-4 py-3 focus:border-emerald-500 focus:outline-none transition-all`})]}),G.identityNumber&&(0,E.jsx)(`div`,{className:`text-sm text-red-600 mt-1`,children:G.identityNumber})]}),(0,E.jsxs)(`div`,{children:[(0,E.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:o(`admin.gender`)}),(0,E.jsxs)(`select`,{value:U.gender,onChange:e=>W({...U,gender:e.target.value}),className:`w-full rounded-xl border-2 border-gray-200 px-4 py-3 focus:border-emerald-500 focus:outline-none transition-all`,children:[(0,E.jsx)(`option`,{value:``,children:o(`admin.gender_select`)}),(0,E.jsx)(`option`,{value:`MALE`,children:o(`admin.gender_male`)}),(0,E.jsx)(`option`,{value:`FEMALE`,children:o(`admin.gender_female`)}),(0,E.jsx)(`option`,{value:`OTHER`,children:o(`admin.gender_other`)})]})]})]})]}),(0,E.jsxs)(`div`,{className:`space-y-4 pt-6 border-t`,children:[(0,E.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-700 flex items-center gap-2`,children:[(0,E.jsx)(r,{className:`w-5 h-5 text-emerald-500`}),o(`admin.address_info`)]}),(0,E.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,E.jsxs)(`div`,{children:[(0,E.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[o(`admin.province`),` `,(0,E.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,E.jsx)(M,{value:U.provinceCode,onChange:e=>W({...U,provinceCode:e,communeCode:``}),options:oe,placeholder:o(`admin.province_select`),searchPlaceholder:o(`common.search_placeholder`)||`Type to search...`,noOptionsText:`No results`,loading:!1,disabled:!1,renderIcon:(0,E.jsx)(r,{className:`w-5 h-5`}),debounceMs:250}),G.provinceCode&&(0,E.jsx)(`div`,{className:`text-sm text-red-600 mt-1`,children:G.provinceCode})]}),(0,E.jsxs)(`div`,{children:[(0,E.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:o(`admin.commune`)}),(0,E.jsx)(M,{value:U.communeCode,onChange:e=>W({...U,communeCode:e}),options:se,placeholder:o(`admin.commune_select`),searchPlaceholder:o(`common.search_placeholder`)||`Type to search...`,noOptionsText:`No results`,loading:z,disabled:!U.provinceCode,renderIcon:(0,E.jsx)(r,{className:`w-5 h-5`}),debounceMs:250})]})]}),(0,E.jsxs)(`div`,{children:[(0,E.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:o(`admin.house_number`)}),(0,E.jsxs)(`div`,{className:`relative`,children:[(0,E.jsx)(n,{className:`absolute left-3 top-3.5 w-5 h-5 text-gray-400 pointer-events-none`}),(0,E.jsx)(`input`,{value:U.house,onChange:e=>W({...U,house:e.target.value}),placeholder:o(`admin.house_placeholder`),maxLength:255,className:`w-full rounded-xl border-2 border-gray-200 pl-10 pr-4 py-3 focus:border-emerald-500 focus:outline-none transition-all`})]})]})]}),(0,E.jsxs)(`div`,{className:`space-y-4 pt-6 border-t`,children:[(0,E.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-700 flex items-center gap-2`,children:[(0,E.jsx)(_,{className:`w-5 h-5 text-emerald-500`}),o(`admin.role_security`)]}),(0,E.jsxs)(`div`,{children:[(0,E.jsxs)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:[o(`admin.role`),` `,(0,E.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),D?(0,E.jsx)(`div`,{className:`flex items-center justify-center p-6 border-2 border-dashed rounded-xl bg-gray-50`,children:(0,E.jsx)(h,{size:40})}):N?(0,E.jsxs)(`div`,{className:`p-4 border-2 border-red-200 rounded-xl bg-red-50`,children:[(0,E.jsx)(`div`,{className:`text-sm text-red-700 mb-3`,children:N}),(0,E.jsx)(`button`,{type:`button`,onClick:$,className:`text-sm px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition`,children:o(`common.retry`)})]}):p.length===0?(0,E.jsxs)(`div`,{className:`p-4 border-2 border-yellow-200 rounded-xl bg-yellow-50`,children:[(0,E.jsx)(`div`,{className:`text-sm text-yellow-700 mb-3`,children:o(`admin.no_roles_available`)}),(0,E.jsx)(`button`,{type:`button`,onClick:$,className:`text-sm px-4 py-2 rounded-lg bg-yellow-600 text-white hover:bg-yellow-700 transition`,children:o(`common.reload`)})]}):(0,E.jsxs)(`select`,{value:U.roleCode,onChange:e=>W({...U,roleCode:e.target.value}),className:`w-full rounded-xl border-2 border-gray-200 px-4 py-3 focus:border-emerald-500 focus:outline-none transition-all`,children:[(0,E.jsx)(`option`,{value:``,children:o(`admin.role_select`)}),p.map(e=>{let t=e.code||e.roleCode||e.id;return(0,E.jsx)(`option`,{value:t,children:e.name||e.displayName||e.code||e.roleCode||e.id},t)})]}),G.roleCode&&(0,E.jsx)(`div`,{className:`text-sm text-red-600 mt-1`,children:G.roleCode})]})]}),(0,E.jsxs)(`div`,{className:`flex items-center gap-4 justify-end pt-6 border-t`,children:[(0,E.jsx)(`button`,{type:`button`,onClick:()=>f(-1),className:`px-6 py-3 rounded-xl border-2 border-gray-200 hover:border-gray-300 hover:bg-gray-50 transition-all font-medium`,children:o(`common.cancel`)}),(0,E.jsx)(`button`,{type:`submit`,disabled:V||Y,className:`px-8 py-3 rounded-xl text-white font-medium shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all bg-gradient-to-r from-emerald-500 to-sky-600 hover:from-sky-600 hover:to-emerald-500 flex items-center gap-2`,children:V?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(h,{size:20}),(0,E.jsx)(`span`,{children:o(`admin.submit_creating`)})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(a,{className:`w-5 h-5`}),(0,E.jsx)(`span`,{children:o(`admin.create_user`)})]})})]})]})]})})]})]})}export{N as default};