import{t as e}from"./circle-check-T5Aj_NOH.js";import{n as t,t as n}from"./useDebounce-Cx0DY7EU.js";import{t as r}from"./search-CVa8GsAv.js";import{t as i}from"./shield-off-CnYuzpUG.js";import{A as a,K as o,Y as s,l as c,o as l,tt as u,y as d}from"./index-BK-GGJM4.js";import{o as f}from"./adminApi-DSTjBICF.js";import{t as p}from"./PaginationControls-B_SYzLFE.js";var m=u(s(),1),h=u(a(),1),g=(e,t)=>t(`errors.${e?.response?.data?.code||e?.code||`UNKNOWN_ERROR`}`,{defaultValue:t(`errors.UNKNOWN_ERROR`)});function _({message:n,type:r=`success`,onClose:i}){m.useEffect(()=>{let e=setTimeout(i,4e3);return()=>clearTimeout(e)},[i]);let a={success:(0,h.jsx)(e,{className:`w-5 h-5`}),error:(0,h.jsx)(d,{className:`w-5 h-5`}),info:(0,h.jsx)(t,{className:`w-5 h-5`})};return(0,h.jsx)(`div`,{className:`fixed top-6 right-6 z-50 animate-slideIn font-sans`,children:(0,h.jsxs)(`div`,{className:`bg-gradient-to-r ${{success:`from-emerald-500 to-teal-500 shadow-emerald-500/30`,error:`from-red-500 to-pink-500 shadow-red-500/30`,info:`from-blue-500 to-indigo-500 shadow-blue-500/30`}[r]} text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-3 min-w-[320px]`,children:[a[r],(0,h.jsx)(`span`,{className:`flex-1 font-medium`,children:n}),(0,h.jsx)(`button`,{onClick:i,className:`hover:bg-white/20 p-1 rounded-lg transition-colors`,children:(0,h.jsx)(l,{className:`w-4 h-4`})})]})})}function v({isActive:e}){return e?(0,h.jsxs)(`div`,{className:`inline-flex items-center gap-2 font-sans`,children:[(0,h.jsxs)(`span`,{className:`relative flex h-3 w-3`,children:[(0,h.jsx)(`span`,{className:`animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75`}),(0,h.jsx)(`span`,{className:`relative inline-flex rounded-full h-3 w-3 bg-emerald-500`})]}),(0,h.jsx)(`span`,{className:`text-sm font-medium text-gray-700`,children:`Active`})]}):(0,h.jsxs)(`div`,{className:`inline-flex items-center gap-2 font-sans`,children:[(0,h.jsxs)(`span`,{className:`relative flex h-3 w-3`,children:[(0,h.jsx)(`span`,{className:`animate-ping absolute inline-flex h-full w-full rounded-full bg-gray-400 opacity-75`}),(0,h.jsx)(`span`,{className:`relative inline-flex rounded-full h-3 w-3 bg-gray-500`})]}),(0,h.jsx)(`span`,{className:`text-sm font-medium text-gray-700`,children:`Inactive`})]})}function y({size:e=40}){return(0,h.jsx)(`div`,{className:`flex items-center justify-center font-sans py-12`,children:(0,h.jsx)(`div`,{className:`shapes-5`,style:{width:e,height:e}})})}function b(){let{t}=o(),[a,s]=(0,m.useState)([]),[l,u]=(0,m.useState)(!1),[d,b]=(0,m.useState)(``),x=n(d,300),[S,C]=(0,m.useState)(null),[w,T]=(0,m.useState)(0),[E,D]=(0,m.useState)(10),[O,k]=(0,m.useState)(0),[A,j]=(0,m.useState)(1);async function M(e=0,n=10,r=``){u(!0);try{let t={page:e,size:n};r&&r.trim()!==``&&(t.q=r.trim());let i=await f(t),a=[],o=0,c=1;Array.isArray(i)?(a=i,o=i.length,c=1):i&&Array.isArray(i.content)?(a=i.content,o=i.totalElements||i.content.length,c=i.totalPages||1):i&&Array.isArray(i.items)?(a=i.items,o=i.totalElements||i.items.length,c=i.totalPages||1):(a=[],o=0,c=1),s(a),k(o),j(c||1)}catch(e){C({message:g(e,t),type:`error`}),s([]),k(0),j(1)}finally{u(!1)}}(0,m.useEffect)(()=>{M(0,E,x)},[]),(0,m.useEffect)(()=>{T(0)},[x]),(0,m.useEffect)(()=>{M(w,E,x)},[w,E,x]);let N=(0,m.useMemo)(()=>a.filter(e=>e.isActive!==!1).length,[a]),P=(0,m.useMemo)(()=>a.filter(e=>e.isActive===!1).length,[a]),F=e=>{T(e)},I=e=>{D(e),T(0)};return(0,h.jsxs)(`div`,{className:`p-6 bg-gradient-to-br from-gray-50 via-white to-teal-50/30 min-h-screen font-sans`,children:[S&&(0,h.jsx)(_,{...S,onClose:()=>C(null)}),(0,h.jsxs)(`div`,{className:`max-w-7xl mx-auto`,children:[(0,h.jsx)(`div`,{className:`mb-8`,children:(0,h.jsxs)(`div`,{className:`flex items-center gap-4 mb-3`,children:[(0,h.jsx)(`div`,{className:`w-12 h-12 rounded-2xl bg-gradient-to-br from-teal-500 to-emerald-500 flex items-center justify-center shadow-lg shadow-teal-500/30`,children:(0,h.jsx)(c,{className:`w-6 h-6 text-white`})}),(0,h.jsxs)(`div`,{children:[(0,h.jsx)(`h1`,{className:`text-4xl font-bold text-gray-900`,children:`Privileges Management`}),(0,h.jsx)(`p`,{className:`text-gray-500 mt-1`,children:`Manage privileges and permissions for the system`})]})]})}),(0,h.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-4 mb-6`,children:[{label:`Total Privileges`,value:O,icon:c,iconColor:`text-teal-600`},{label:`Active`,value:N,icon:e,iconColor:`text-emerald-600`},{label:`Inactive`,value:P,icon:i,iconColor:`text-gray-600`}].map((e,t)=>{let n=e.icon;return(0,h.jsx)(`div`,{className:`bg-white rounded-2xl p-5 shadow-sm border border-gray-200 hover:shadow-xl transition-all duration-300 hover:-translate-y-1`,children:(0,h.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,h.jsxs)(`div`,{children:[(0,h.jsx)(`p`,{className:`text-gray-500 text-sm font-medium`,children:e.label}),(0,h.jsx)(`p`,{className:`text-3xl font-bold text-gray-900 mt-1`,children:e.value})]}),(0,h.jsx)(`div`,{className:`w-14 h-14 rounded-2xl bg-gray-50 flex items-center justify-center`,children:(0,h.jsx)(n,{className:`w-8 h-8 ${e.iconColor}`})})]})},t)})}),(0,h.jsxs)(`div`,{className:`bg-white rounded-3xl shadow-xl border border-gray-200 overflow-hidden`,children:[(0,h.jsx)(`div`,{className:`p-6 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white`,children:(0,h.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between`,children:[(0,h.jsx)(`div`,{className:`flex-1 w-full sm:w-auto`,children:(0,h.jsxs)(`div`,{className:`relative group`,children:[(0,h.jsx)(r,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-teal-500 transition-colors`}),(0,h.jsx)(`input`,{value:d,onChange:e=>b(e.target.value),onKeyDown:e=>{e.key===`Enter`&&(e.preventDefault(),M(0,E,e.target.value))},placeholder:`Search by code, name or description...`,className:`w-full pl-12 pr-4 py-3.5 border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all bg-white`})]})}),(0,h.jsx)(`div`,{className:`flex gap-3`})]})}),l?(0,h.jsx)(`div`,{className:`py-24`,children:(0,h.jsx)(y,{size:50})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(`div`,{className:`overflow-x-auto`,children:(0,h.jsxs)(`table`,{className:`w-full`,children:[(0,h.jsx)(`thead`,{children:(0,h.jsxs)(`tr`,{className:`bg-gray-50`,children:[(0,h.jsx)(`th`,{className:`text-left px-6 py-4 text-xs font-bold text-gray-600 uppercase tracking-wider`,children:`Privilege Code`}),(0,h.jsx)(`th`,{className:`text-left px-6 py-4 text-xs font-bold text-gray-600 uppercase tracking-wider`,children:`Privilege Name`}),(0,h.jsx)(`th`,{className:`text-left px-6 py-4 text-xs font-bold text-gray-600 uppercase tracking-wider`,children:`Description`}),(0,h.jsx)(`th`,{className:`text-center px-6 py-4 text-xs font-bold text-gray-600 uppercase tracking-wider`,children:`Status`})]})}),(0,h.jsxs)(`tbody`,{className:`divide-y divide-gray-100`,children:[a.map((e,t)=>{let n=e.isActive!==!1;return(0,h.jsxs)(`tr`,{className:`hover:bg-gradient-to-r hover:from-teal-50/30 hover:to-transparent transition-all duration-200 group`,style:{animation:`slideUp 0.4s ease-out ${t*.03}s both`},children:[(0,h.jsx)(`td`,{className:`px-6 py-5`,children:(0,h.jsx)(`div`,{className:`font-mono text-sm font-semibold text-gray-900 group-hover:text-teal-600 transition-colors`,children:e.code||e.id||e.privilegeCode})}),(0,h.jsx)(`td`,{className:`px-6 py-5`,children:(0,h.jsx)(`div`,{className:`font-semibold text-gray-900`,children:e.name||e.privilegeName})}),(0,h.jsx)(`td`,{className:`px-6 py-5`,children:(0,h.jsx)(`div`,{className:`text-sm text-gray-500`,children:e.description||e.privilegeDescription||`-`})}),(0,h.jsx)(`td`,{className:`px-6 py-5`,children:(0,h.jsx)(`div`,{className:`flex justify-center`,children:(0,h.jsx)(v,{isActive:n})})})]},e.id||e.code||e.privilegeId||`privilege-${t}`)}),a.length===0&&(0,h.jsx)(`tr`,{children:(0,h.jsx)(`td`,{colSpan:4,className:`px-6 py-20 text-center`,children:(0,h.jsxs)(`div`,{className:`flex flex-col items-center gap-4`,children:[(0,h.jsx)(`div`,{className:`w-20 h-20 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center`,children:(0,h.jsx)(c,{className:`w-10 h-10 text-gray-400`})}),(0,h.jsxs)(`div`,{children:[(0,h.jsx)(`div`,{className:`text-gray-700 font-semibold text-lg`,children:`No privileges found`}),(0,h.jsx)(`div`,{className:`text-sm text-gray-500 mt-1`,children:`Try changing your search keywords`})]})]})})})]})]})}),(0,h.jsx)(p,{page:w,size:E,currentPageSize:a.length,totalElements:O,totalPages:A,onPageChange:F,onSizeChange:I})]})]})]}),(0,h.jsx)(`style`,{children:`
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideIn { from { opacity: 0; transform: translateX(100px); } to { opacity: 1; transform: translateX(0); } }
        .shapes-5 { width: 40px; aspect-ratio: 1; --c: no-repeat linear-gradient(#14b8a6 0 0); background: var(--c) 0% 100%, var(--c) 50% 100%, var(--c) 100% 100%; animation: sh5 1s infinite linear; }
        @keyframes sh5 { 0% {background-size:20% 100%,20% 100%,20% 100%} 33% {background-size:20% 10% ,20% 100%,20% 100%} 50% {background-size:20% 100%,20% 10% ,20% 100%} 66% {background-size:20% 100%,20% 100%,20% 10 } 100% {background-size:20% 100%,20% 100%,20% 100%} }
      `})]})}export{b as default};